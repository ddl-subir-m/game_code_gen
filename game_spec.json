{
    "game_name": "BlockFall",
    "spec": "# BlockFall Game Design Specification\n\n## 1. Game Overview\nBlockFall is a puzzle game where players manipulate falling geometric pieces to create complete horizontal lines that clear from the playing field.\n\n## 2. Core Game Mechanics\n\n### 2.1 Playing Field\n- Dimensions: 10 blocks wide X 20 blocks high\n- Hidden rows: Additional 2 rows above visible area for piece spawning\n- Grid: Composed of individual square blocks (cells)\n- Cell states: Empty or filled with a colored block\n\n### 2.2 Block Types\nSeven unique pieces, each composed of 4 blocks (where ■ represents one block):\n\n1. Long piece (cyan):\n\n■ ■ ■ ■\n\n\n2. Square piece (yellow):\n\n■ ■\n■ ■\n\n3. Cross piece (purple):\n\n  ■\n■ ■ ■\n\n4. Right snake (green):\n\n  ■ ■\n■ ■\n\n\n5. Left snake (red):\n\n■ ■\n  ■ ■\n\n\n6. Left hook (blue):\n\n■\n■\n■ ■\n\n\n7. Right hook (orange):\n\n  ■\n  ■\n■ ■\n\n\n### 2.3 Piece Behavior\n- Spawn position: Top-center of playing field\n- Initial orientation: Predefined for each piece\n- Fall speed: Constant downward movement at regular intervals\n- Lock delay: 0.5 seconds after piece touches surface before locking\n- Next piece preview: Shows upcoming 1-3 pieces\n\n## 3. Game Controls\n\n### 3.1 Basic Controls\n- Left/Right: Move piece horizontally\n- Down: Soft drop (accelerated fall)\n- Up: Rotate piece clockwise\n- Space: Hard drop (instant fall and lock)\n- Hold: Store current piece for later use (once per piece)\n\n### 3.2 Advanced Mechanics\n- Edge adjustment: Automatic horizontal adjustment during rotation near walls\n- Cross-spin: Special rotation technique for Cross piece\n- Hold queue: One piece can be held in reserve and swapped\n\n## 4. Scoring System\n\n### 4.1 Line Clear Points\n- Single line: 100 points\n- Double lines: 300 points\n- Triple lines: 500 points\n- Perfect clear (4 lines): 800 points\n\n### 4.2 Additional Scoring\n- Soft drop: 1 point per cell dropped\n- Hard drop: 2 points per cell dropped\n- Cross-spin bonus: 400 points\n- Back-to-back Perfect clear: 1.5x multiplier\n\n## 5. Game Progression\n\n### 5.1 Level System\n- Starting level: Player selectable (0-9)\n- Level increase: Every 10 lines cleared\n- Speed increase: \n  - Level 0: 1.00 seconds per line\n  - Each level: ~0.1 second decrease\n  - Maximum speed at level 20\n\n### 5.2 Game Over Conditions\n- Piece locks above visible playing field\n- Cannot spawn new piece due to blocked cells\n\n## 6. Visual Feedback\n\n### 6.1 Essential Visual Elements\n- Shadow piece: Shows where current piece will land (semi-transparent)\n- Line clear animation: Simple flash or disappearing effect\n- Block colors: Distinct color for each piece type\n- Level number: Prominently displayed\n- Score display: Updated in real-time\n- Next piece preview: Clear preview window\n- Hold piece display: Clear hold piece window\n- Grid lines: Subtle lines showing block boundaries\n\n### 6.2 Visual Indicators\n- Piece lock indicator: Brief flash when piece locks\n- Line clear indicator: Simple animation for cleared lines\n- Game over indicator: Screen fade or simple \"Game Over\" text\n- Level up indicator: Simple visual notification\n\n## 7. Optional Features\n\n### 7.1 Multiplayer Elements\n- Versus mode with interference lines\n- Line clear attacks\n- Defense mechanisms\n\n### 7.2 Modern Additions\n- Save/resume functionality\n- High score table\n- Statistics tracking\n- Multiple game modes\n- Customizable controls\n- Visual theme options (different block styles and colors)\n\n## 8. Technical Considerations\n\n### 8.1 Game State\nTrack and maintain:\n- Current piece position and rotation\n- Grid state (filled/empty cells)\n- Next piece queue\n- Hold piece\n- Current score\n- Current level\n- Lines cleared\n- Game phase (active/paused/over)\n\n### 8.2 Frame Rate\n- Minimum 60 FPS\n- Separate logic for piece movement and rendering\n- Handle irregular frame times gracefully\n\n### 8.3 Input Handling\n- Buffer inputs during animations\n- Auto-repeat for horizontal movement\n- Input priority system for simultaneous actions\n\n### 8.4 Randomization\n- Piece generation using 7-bag system\n- Each bag contains one of each piece type\n- Bags shuffled independently\n- Ensures maximum of 12 pieces between any two same pieces\n\n### 8.5 Collision Detection\n- Check for collisions during:\n  - Horizontal movement\n  - Rotation\n  - Downward movement\n  - Hard drops\n- Include wall and floor boundaries\n- Include existing locked pieces\n\n### 8.6 Grid Management\n- Efficient line clear detection\n- Quick grid updates\n- Proper handling of piece locking\n- Accurate shadow piece projection\n\n### 8.7 Rotation System\nEach piece rotates around its center point in 90-degree increments clockwise or counterclockwise. Initial rotations for each piece:\n\n1. Long piece (4 states):\n\n■ ■ ■ ■ ■\n        ■\n        ■\n\n2. Square piece (1 state):\n\n■ ■\n■ ■\n\n3. Cross piece (4 states):\n\n  ■     ■    ■ ■ ■    ■\n■ ■ ■   ■ ■      ■    ■ ■\n        ■                ■"
}